/*
 * This file was generated by the Gradle 'init' task.
 */

plugins {
    id 'java'
    id 'maven'
}

repositories {
    mavenLocal()
    maven {
        url = 'http://repo.maven.apache.org/maven2'
    }
}

dependencies {
    testCompile 'org.testng:testng:6.8.21'
}

group = 'org.threeten'
version = '1.3.9-SNAPSHOT'
description = 'ThreeTen backport'
sourceCompatibility = '1.8'

configurations.all {
}

tasks.withType(JavaCompile) {
    options.encoding = 'UTF-8'
}

task tzdb(type: JavaExec) {
    main = 'org.threeten.bp.zone.TzdbZoneRulesCompiler'
    classpath = sourceSets.main.runtimeClasspath

    println "--- START TZDB BUILD ---"
    // arguments to pass to the application
    args '-srcdir', "$rootDir/tzdb"
    args '-dstdir', "build/tzdb"
    args '-unpacked'
    println "--- END TZDB BUILD ---"
}

task dump(type: JavaExec) {

    if (!project.hasProperty('tzdb')) {
        println "引数`tzdb <TZDB.datパス>`が必要です"
    }

    main = 'org.threeten.bp.zone.TzdbZoneRulesDecompiler'
    classpath = sourceSets.main.runtimeClasspath

    println "--- START TZDB DECOMPILE ---"
    // arguments to pass to the application
    args '-tzdb', "${project.tzdb}"
    println "--- END TZDB DECOMPILE ---"
}

test {
    useTestNG()
}
